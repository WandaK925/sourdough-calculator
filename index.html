<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sourdough Starter Calculator</title>
    <link rel="icon" type="image/png" href="data:image/png;base64,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">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 15px;
            color: #1a1a2e;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        }

        @media (min-width: 768px) {
            .container {
                max-width: 600px;
                padding: 30px;
            }
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.6em;
            font-weight: 700;
        }

        h2 {
            color: #3498db;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.2em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 8px;
        }

        .settings-section {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            border: 1px solid #e1e8ed;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #555;
        }

        input[type="number"], input[type="text"] {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 6px;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus, input[type="text"]:focus {
            outline: none;
            border-color: #3498db;
        }

        .ratio-inputs {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .calculator-section {
            margin-bottom: 30px;
        }

        .main-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
        }

        .main-tab {
            flex: 1;
            padding: 14px 10px;
            background-color: #ecf0f1;
            border: 2px solid #bdc3c7;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            font-weight: 600;
            color: #2c3e50;
        }

        .main-tab.active {
            background-color: #3498db;
            color: white;
            border-color: #3498db;
        }

        .main-content {
            display: none;
        }

        .main-content.active {
            display: block;
        }

        .mode-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .mode-tab {
            flex: 1;
            padding: 12px 8px;
            background-color: #e8f4f8;
            border: 2px solid #d4e8f1;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            font-weight: 500;
            color: #2c3e50;
        }

        .mode-tab.active {
            background-color: #3498db;
            color: white;
            font-weight: 600;
            border-color: #3498db;
        }

        .mode-content {
            display: none;
        }

        .mode-content.active {
            display: block;
        }

        .results {
            background: linear-gradient(135deg, #e3f2fd 0%, #f0f4ff 100%);
            border: 3px solid #3498db;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .results-note {
            font-size: 12px;
            color: #5a6c7d;
            margin-bottom: 12px;
            text-align: center;
            font-style: italic;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background-color: white;
            border-radius: 8px;
            font-size: 16px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .result-item:last-child {
            margin-bottom: 0;
        }

        .result-label {
            font-weight: 600;
            color: #2c3e50;
        }

        .result-value {
            font-size: 22px;
            font-weight: 700;
            color: #3498db;
        }

        .jar-reference {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #e1e8ed;
        }

        .jar-list {
            margin-top: 15px;
        }

        .jar-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin-bottom: 8px;
            background-color: white;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
        }

        .jar-add-form {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .jar-add-form input {
            flex: 1;
        }

        .btn {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 13px;
        }

        .btn-delete {
            background-color: #e74c3c;
        }

        .btn-delete:hover {
            background-color: #c0392b;
        }

        .btn-delete-circle {
            width: 28px;
            height: 28px;
            min-width: 28px;
            padding: 0;
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            font-weight: 700;
            line-height: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s, transform 0.1s;
            flex-shrink: 0;
        }

        .btn-delete-circle:hover {
            background-color: #c0392b;
            transform: scale(1.1);
        }

        .btn-delete-circle:active {
            transform: scale(0.95);
        }

        .empty-state {
            text-align: center;
            color: #999;
            padding: 20px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Sourdough Starter Calculator</h1>

        <div class="main-tabs">
            <button class="main-tab active" onclick="switchMainTab('calculator')">Calculator</button>
            <button class="main-tab" onclick="switchMainTab('containers')">Container Weights</button>
        </div>

        <div id="calculatorTab" class="main-content active">
            <div class="calculator-section">
                <h2>Calculator</h2>
                <div class="mode-tabs">
                    <button class="mode-tab active" onclick="switchMode('target')">Target Amount Mode</button>
                    <button class="mode-tab" onclick="switchMode('feeding')">Feeding Mode</button>
                </div>

            <div id="targetMode" class="mode-content active">
                <div class="input-group">
                    <label>I need this much total starter (grams):</label>
                    <input type="number" id="targetAmount" value="" min="0" step="1" placeholder="Enter target amount" oninput="calculateTarget()">
                </div>
                <div id="targetResults"></div>
            </div>

            <div id="feedingMode" class="mode-content">
                <div class="input-group">
                    <label>I have this much starter (grams):</label>
                    <input type="number" id="currentStarter" value="" min="0" step="1" placeholder="Enter starter amount" oninput="calculateFeeding()">
                </div>
                <div id="feedingResults"></div>
            </div>
        </div>

        <div class="settings-section">
            <h2>Settings</h2>
            <div class="input-group">
                <label>Feeding Ratio (Starter : Flour : Water)</label>
                <div class="ratio-inputs">
                    <div>
                        <input type="number" id="ratioStarter" value="1" min="0.1" step="0.1" oninput="recalculate()">
                        <label style="margin-top: 5px; font-size: 12px; font-weight: 400; text-align: center;">Starter</label>
                    </div>
                    <div>
                        <input type="number" id="ratioFlour" value="4" min="0.1" step="0.1" oninput="recalculate()">
                        <label style="margin-top: 5px; font-size: 12px; font-weight: 400; text-align: center;">Flour</label>
                    </div>
                    <div>
                        <input type="number" id="ratioWater" value="4" min="0.1" step="0.1" oninput="recalculate()">
                        <label style="margin-top: 5px; font-size: 12px; font-weight: 400; text-align: center;">Water</label>
                    </div>
                </div>
            </div>
            <div class="input-group">
                <label>Starter Hydration (%)</label>
                <input type="number" id="hydration" value="100" min="1" step="1">
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px;">
                <button class="btn btn-save btn-small" onclick="saveDefaults()">Save as Default</button>
                <button class="btn btn-reset btn-small" onclick="resetSettings()">Reset All</button>
            </div>
        </div>
        </div>

        <div id="containersTab" class="main-content">
            <div class="jar-reference">
                <h2>Container Weights</h2>
                <p style="color: #666; margin-bottom: 15px; font-size: 14px;">Save container weights for easy reference when you forget to tare your scale.</p>
                <div class="jar-add-form">
                    <input type="text" id="jarLabel" placeholder="Container name (e.g., Mason Jar)">
                    <input type="number" id="jarWeight" placeholder="Weight (grams)" min="0" step="1">
                    <button class="btn" onclick="addJar()">Add Container</button>
                </div>
                <div class="jar-list" id="jarList"></div>
            </div>
        </div>
    </div>

    <script>
        let jars = JSON.parse(localStorage.getItem('jars')) || [];

        // Factory defaults
        const FACTORY_DEFAULTS = {
            ratioStarter: 1,
            ratioFlour: 4,
            ratioWater: 4,
            hydration: 100
        };

        // Load saved defaults or use factory defaults
        function loadDefaults() {
            const saved = localStorage.getItem('defaultSettings');
            return saved ? JSON.parse(saved) : FACTORY_DEFAULTS;
        }

        // Initialize settings on page load
        function initializeSettings() {
            const defaults = loadDefaults();
            document.getElementById('ratioStarter').value = defaults.ratioStarter;
            document.getElementById('ratioFlour').value = defaults.ratioFlour;
            document.getElementById('ratioWater').value = defaults.ratioWater;
            document.getElementById('hydration').value = defaults.hydration;
        }

        function switchMainTab(tab) {
            document.querySelectorAll('.main-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.main-content').forEach(content => content.classList.remove('active'));

            if (tab === 'calculator') {
                document.querySelector('.main-tab:first-child').classList.add('active');
                document.getElementById('calculatorTab').classList.add('active');
            } else {
                document.querySelector('.main-tab:last-child').classList.add('active');
                document.getElementById('containersTab').classList.add('active');
            }
        }

        function switchMode(mode) {
            document.querySelectorAll('.mode-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.mode-content').forEach(content => content.classList.remove('active'));

            if (mode === 'target') {
                document.querySelector('.mode-tab:first-child').classList.add('active');
                document.getElementById('targetMode').classList.add('active');
            } else {
                document.querySelector('.mode-tab:last-child').classList.add('active');
                document.getElementById('feedingMode').classList.add('active');
            }
        }

        function calculateFeeding() {
            const currentStarter = parseFloat(document.getElementById('currentStarter').value);
            const ratioStarter = parseFloat(document.getElementById('ratioStarter').value);
            const ratioFlour = parseFloat(document.getElementById('ratioFlour').value);
            const ratioWater = parseFloat(document.getElementById('ratioWater').value);

            if (!currentStarter || currentStarter <= 0) {
                document.getElementById('feedingResults').innerHTML = '';
                return;
            }

            const flourToAdd = (currentStarter / ratioStarter) * ratioFlour;
            const waterToAdd = (currentStarter / ratioStarter) * ratioWater;
            const totalStarter = currentStarter + flourToAdd + waterToAdd;

            document.getElementById('feedingResults').innerHTML = `
                <div class="results">
                    <div class="results-note">Using ratio ${ratioStarter}:${ratioFlour}:${ratioWater} (see Settings below)</div>
                    <div class="result-item">
                        <span class="result-label">Starter (existing)</span>
                        <span class="result-value">${Math.round(currentStarter)} g</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Flour (to add)</span>
                        <span class="result-value">${Math.round(flourToAdd)} g</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Water (to add)</span>
                        <span class="result-value">${Math.round(waterToAdd)} g</span>
                    </div>
                    <div class="result-item" style="background: linear-gradient(135deg, #d4edda 0%, #e8f5e9 100%); border: 2px solid #3498db;">
                        <span class="result-label">Total Fed Starter</span>
                        <span class="result-value">${Math.round(totalStarter)} g</span>
                    </div>
                </div>
            `;
        }

        function calculateTarget() {
            const targetAmount = parseFloat(document.getElementById('targetAmount').value);
            const ratioStarter = parseFloat(document.getElementById('ratioStarter').value);
            const ratioFlour = parseFloat(document.getElementById('ratioFlour').value);
            const ratioWater = parseFloat(document.getElementById('ratioWater').value);

            if (!targetAmount || targetAmount <= 0) {
                document.getElementById('targetResults').innerHTML = '';
                return;
            }

            const totalRatio = ratioStarter + ratioFlour + ratioWater;
            const starterNeeded = (targetAmount / totalRatio) * ratioStarter;
            const flourNeeded = (targetAmount / totalRatio) * ratioFlour;
            const waterNeeded = (targetAmount / totalRatio) * ratioWater;

            document.getElementById('targetResults').innerHTML = `
                <div class="results">
                    <div class="results-note">Using ratio ${ratioStarter}:${ratioFlour}:${ratioWater} (see Settings below)</div>
                    <div class="result-item">
                        <span class="result-label">Starter</span>
                        <span class="result-value">${Math.round(starterNeeded)} g</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Flour</span>
                        <span class="result-value">${Math.round(flourNeeded)} g</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Water</span>
                        <span class="result-value">${Math.round(waterNeeded)} g</span>
                    </div>
                </div>
            `;
        }

        function recalculate() {
            // Recalculate whichever mode is currently active
            if (document.getElementById('feedingMode').classList.contains('active')) {
                calculateFeeding();
            } else {
                calculateTarget();
            }
        }

        function saveDefaults() {
            const currentSettings = {
                ratioStarter: parseFloat(document.getElementById('ratioStarter').value),
                ratioFlour: parseFloat(document.getElementById('ratioFlour').value),
                ratioWater: parseFloat(document.getElementById('ratioWater').value),
                hydration: parseFloat(document.getElementById('hydration').value)
            };

            localStorage.setItem('defaultSettings', JSON.stringify(currentSettings));
            alert('Current settings saved as your new defaults!');
        }

        function resetSettings() {
            if (confirm('Reset all settings and clear container weights? This cannot be undone.')) {
                // Load saved defaults (or factory defaults if none saved)
                const defaults = loadDefaults();
                document.getElementById('ratioStarter').value = defaults.ratioStarter;
                document.getElementById('ratioFlour').value = defaults.ratioFlour;
                document.getElementById('ratioWater').value = defaults.ratioWater;
                document.getElementById('hydration').value = defaults.hydration;

                // Clear calculator inputs
                document.getElementById('currentStarter').value = '';
                document.getElementById('targetAmount').value = '';

                // Clear results
                document.getElementById('feedingResults').innerHTML = '';
                document.getElementById('targetResults').innerHTML = '';

                // Clear containers
                jars = [];
                localStorage.removeItem('jars');
                renderJars();

                alert('All settings have been reset to your saved defaults.');
            }
        }

        function addJar() {
            const label = document.getElementById('jarLabel').value.trim();
            const weight = parseFloat(document.getElementById('jarWeight').value);

            if (!label || !weight || weight <= 0) {
                alert('Please enter both jar name and weight.');
                return;
            }

            jars.push({ label, weight });
            localStorage.setItem('jars', JSON.stringify(jars));
            document.getElementById('jarLabel').value = '';
            document.getElementById('jarWeight').value = '';
            renderJars();
        }

        function deleteJar(index) {
            jars.splice(index, 1);
            localStorage.setItem('jars', JSON.stringify(jars));
            renderJars();
        }

        function renderJars() {
            const jarList = document.getElementById('jarList');

            if (jars.length === 0) {
                jarList.innerHTML = '<div class="empty-state">No containers saved yet</div>';
                return;
            }

            jarList.innerHTML = jars.map((jar, index) => `
                <div class="jar-item">
                    <span><strong>${jar.label}</strong></span>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <span style="font-weight: 600;">${jar.weight} g</span>
                        <button class="btn-delete-circle" onclick="deleteJar(${index})" aria-label="Delete ${jar.label}">Ã—</button>
                    </div>
                </div>
            `).join('');
        }

        // Initialize on page load
        initializeSettings();
        renderJars();
    </script>
</body>
</html>
